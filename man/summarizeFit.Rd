% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarizeFit.R
\name{summarizeFit}
\alias{summarizeFit}
\alias{summarizeFit,FLBRP-method}
\alias{summarizeFit,FLBRPs-method}
\title{Summarize Fits for a Biomass Metric}
\usage{
summarizeFit(
  object,
  biomass = "ebiomass",
  biomass.obs = NULL,
  biomass.name = NULL
)

\S4method{summarizeFit}{FLBRP}(
  object,
  biomass = "ebiomass",
  biomass.obs = NULL,
  biomass.name = NULL
)

\S4method{summarizeFit}{FLBRPs}(
  object,
  biomass = "ebiomass",
  biomass.obs = NULL,
  biomass.name = NULL
)
}
\arguments{
\item{object}{An FLBRP object containing fitted model results}

\item{biomass}{Character string. Name of the biomass metric to summarize.
Common values: "ssb", "ebiomass", "biomass". Default: "ebiomass"}

\item{biomass.obs}{Function or character. Function to extract observed biomass
from the object. If character, will look for an attribute with that name
(e.g., "eb.obs" for ebiomass). If NULL, will try to construct from
\code{biomass} parameter (e.g., "ssb" -> ssb.obs, "ebiomass" -> attributes(object)$eb.obs).
Default: NULL (auto-detect)}

\item{biomass.name}{Character. Short name for the biomass metric used in
output names (e.g., "SSB", "EB"). If NULL, will use capitalized \code{biomass}.
Default: NULL}
}
\value{
An FLQuants object containing:
  \item{sp}{Surplus production: B_{t+1} - B_t + C_t}
  \item{pe}{Process error: (sp - yield) / biomass}
  \item{biomass}{The observed biomass time series}
}
\description{
Generic function to calculate surplus production and process error for any
biomass metric (e.g., SSB, ebiomass) from an FLBRP object. This function
generalizes the calculation of surplus production and process error that was
previously hardcoded for specific metrics.
}
\details{
This function calculates:
\itemize{
  \item \strong{Surplus Production (sp):} The change in biomass plus catch:
    \deqn{SP_t = B_{t+1} - B_t + C_t}{SP_t = B_{t+1} - B_t + C_t}
  \item \strong{Process Error (pe):} The normalized difference between
    surplus production and yield:
    \deqn{PE_t = \frac{SP_t - Y_t}{B_t}}{PE_t = (SP_t - Y_t) / B_t}
}

The function automatically handles different biomass metrics by:
\itemize{
  \item Using standard observation functions (e.g., \code{ssb.obs()}) when available
  \item Falling back to attributes (e.g., \code{attributes(object)$eb.obs}) for
    custom metrics like ebiomass
  \item Constructing function names from the metric name when possible
}
}
\examples{
\dontrun{
library(FLBRP)

# Summarize ebiomass fits
eb_summary <- summarizeFit(brp, biomass = "ebiomass")

# Summarize SSB fits
ssb_summary <- summarizeFit(brp, biomass = "ssb")

# Custom biomass metric
custom_summary <- summarizeFit(brp, 
                               biomass = "custom",
                               biomass.obs = function(x) attributes(x)$custom.obs)
}

}
