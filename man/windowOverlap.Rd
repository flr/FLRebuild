% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/windowOverlap.R
\name{windowOverlap}
\alias{windowOverlap}
\title{Create Overlapping Time Windows from Time Series Data}
\usage{
windowOverlap(dat, yearCol = "year", step = 10, overlap = 5)
}
\arguments{
\item{dat}{A data.frame containing time series data}

\item{yearCol}{Character string. Name of the column containing year values
(default: "year")}

\item{step}{Numeric. Step size between window centers in years (default: 10).
Windows are centered at multiples of this step.}

\item{overlap}{Numeric. Number of years of overlap on each side of the
window center (default: 5). The total window width is approximately
\code{step + 2*overlap} years.}
}
\value{
A data.frame containing all windows stacked, with additional columns:
  \item{centre}{Numeric. The center year of each window}
  \item{from}{Numeric. The starting year of each window}
  \item{to}{Numeric. The ending year of each window}
  \item{.id}{Character. The center year as a character string (from plyr)}
}
\description{
Partitions time series data into overlapping windows based on year values.
This function is useful for rolling window analyses, where you want to
analyze data in overlapping time periods (e.g., 10-year windows with
5-year overlap).
}
\details{
The function creates windows as follows:
\enumerate{
  \item Determines the range of years in the data
  \item Calculates window centers at regular intervals (multiples of \code{step})
  \item For each center, creates a window from \code{centre - overlap} to
    \code{centre + step - 1 + overlap}
  \item Extracts all rows from \code{dat} that fall within each window
  \item Adds metadata columns (centre, from, to) to identify the window
  \item Combines all windows into a single data.frame
}

Windows are overlapping, meaning the same data point can appear in multiple
windows. This is useful for:
\itemize{
  \item Rolling window regression analyses
  \item Time-varying parameter estimation
  \item Detecting regime shifts or trends over time
  \item Bootstrap resampling with temporal structure
}
}
\examples{
\dontrun{
# Create example time series data
dat <- data.frame(
  year = 1980:2020,
  value = rnorm(41),
  stock = rlnorm(41)
)

# Create 10-year windows with 5-year overlap
windows <- windowOverlap(dat, yearCol = "year", step = 10, overlap = 5)

# Analyze each window separately
library(dplyr)
windows \%>\%
  group_by(centre) \%>\%
  summarise(mean_value = mean(value), mean_stock = mean(stock))

# Create 5-year windows with 2-year overlap
windows_small <- windowOverlap(dat, step = 5, overlap = 2)
}

}
\seealso{
\code{\link[plyr]{ldply}} for list-to-data.frame conversion
}
